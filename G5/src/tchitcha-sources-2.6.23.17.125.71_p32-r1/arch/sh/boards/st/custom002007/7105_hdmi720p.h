/*
 * arch/sh/boards/st/custom002007/7105_hdmi720p.h
 *
 * Copyright (C) 2012 Wyplay
 * Author: Vincent Penne (vpenne@wyplay.com)
 *
 * May be copied or modified under the terms of the GNU General Public
 * License.  See linux/COPYING for more information.
 */


/* define the address of the framebuffer and GDP nodes */

/* this is the address normally used by companions firmwares (the first 8MB of RAM)
 * this is a perfect place to put our temporary framebuffer : 
 * linux doesn't clear it at boot up, and it won't be used until
 * we load st231 firmwares, which will happen after we have loaded stmfb */

#define FBADDR (0x40000000 + 2 * 64)

#define GDPNODE1 (FBADDR - 1*64)
#define GDPNODE2 (FBADDR - 2*64)

// using RGB format is better because it doesn't require to send infoframe all the time
#define HDMI_OUTPUT_RGB


/* st7105 registers areas */
#define CLOCKGENB  0xfe000000+
#define TVOUT_CPU  0xfe030000+
#define COMPO      0xfe20a000+
#define HD_DISPLAY 0xfe002000+
#define SD_DISPLAY 0xfe003000+
#define HDMI_REG   0xfd104000+
#define SYSC_A     0xfe001000+
#define AUDIO_CONF 0xfe210000+
#define BLITTER    0xfe20b000+




0, HDMI_REG 0x000, 0x80000000, // HDMI RESET

// GDP nodes (referencing each other)
  64, GDPNODE1, 0x81000025, 0x800080, 0x0, 0x1a0104, 0x2e90603, FBADDR, 0x1400, 0x2d00500, 0x0, GDPNODE2, 0x0, 0x0, 0x0, 0x0, 0x0, 0x4f666000, 
  64, GDPNODE2, 0x81000025, 0x800080, 0x0, 0x1a0104, 0x2e90603, FBADDR, 0x1400, 0x2d00500, 0x0, GDPNODE1, 0x0, 0x0, 0x0, 0x0, 0x0, 0x4f666000, 

0, HDMI_REG 0x000, 0x00000000, // clear HDMI RESET 


// infoframe
0, HDMI_REG 0x210, 0xd0282,
#ifdef HDMI_OUTPUT_RGB
0, HDMI_REG 0x214, 0x40080014,
#else
0, HDMI_REG 0x214, 0x10884084,
#endif
0, HDMI_REG 0x218, 0x13,
0, HDMI_REG 0x21c, 0x0,
0, HDMI_REG 0x220, 0x0,
0, HDMI_REG 0x224, 0x0,
0, HDMI_REG 0x228, 0x0,
0, HDMI_REG 0x22c, 0x0,
0, HDMI_REG 0x230, 0x1,




0, CLOCKGENB 0x010, 0xc0de,
0, CLOCKGENB 0x0b8, 0x1,
0, TVOUT_CPU 0x810, 0x0,
0, COMPO 0xc34, 0x3aa1,
0, COMPO 0xd34, 0x2a,
0, COMPO 0x1fc, 0x0,
0, COMPO 0x1ec, 0x6,
0, COMPO 0x1f0, 0x5,
0, COMPO 0x1f4, 0x3,
0, COMPO 0x1f8, 0x3,
0, COMPO 0x1fc, 0x0,
0, COMPO 0x2fc, 0x0,
0, COMPO 0x2ec, 0x6,
0, COMPO 0x2f0, 0x5,
0, COMPO 0x2f4, 0x3,
0, COMPO 0x2f8, 0x3,
0, COMPO 0x2fc, 0x0,
0, COMPO 0x3fc, 0x0,
0, COMPO 0x3ec, 0x6,
0, COMPO 0x3f0, 0x5,
0, COMPO 0x3f4, 0x3,
0, COMPO 0x3f8, 0x3,
0, COMPO 0x3fc, 0x0,
0, HD_DISPLAY 0x000, 0x1,
0, HD_DISPLAY 0x100, 0x0,
0, HD_DISPLAY 0x0b0, 0xa3,
0, HD_DISPLAY 0x12c, 0x4fffc410,
0, HD_DISPLAY 0x130, 0x40c21b70,
0, HD_DISPLAY 0x230, 0x20201004,
0, HD_DISPLAY 0x238, 0x101c4,
0, HD_DISPLAY 0x240, 0x4fffc208,
0, HD_DISPLAY 0x24c, 0x100,
0, HD_DISPLAY 0x250, 0x100,
0, HD_DISPLAY 0x228, 0x8,
0, HD_DISPLAY 0x208, 0x4000,
0, HD_DISPLAY 0x208, 0x4000,
0, HD_DISPLAY 0x220, 0x4fb16c08,
0, HD_DISPLAY 0x208, 0x4010,
0, HD_DISPLAY 0x208, 0x4010,
0, HD_DISPLAY 0x228, 0x0,
0, HD_DISPLAY 0x208, 0x4000,
0, HD_DISPLAY 0x220, 0x4fb16c08,
0, HD_DISPLAY 0x208, 0x4010,
0, HD_DISPLAY 0x22c, 0x0,
0, HD_DISPLAY 0x234, 0x0,
0, HD_DISPLAY 0x22c, 0x0,
0, HD_DISPLAY 0x238, 0x101c4,
0, HD_DISPLAY 0x23c, 0x1,
0, HD_DISPLAY 0x200, 0x1,
0, SD_DISPLAY 0x000, 0x1,
0, SD_DISPLAY 0x100, 0x0,
0, SD_DISPLAY 0x12c, 0x4fffc010,
0, SD_DISPLAY 0x130, 0x40c21e70,
0, COMPO 0x0ec, 0x6,
0, COMPO 0x0f0, 0x5,
0, COMPO 0x0f4, 0x3,
0, COMPO 0x0f8, 0x0,
0, COMPO 0x0fc, 0x3,
0, TVOUT_CPU 0x800, 0x48,
0, TVOUT_CPU 0x400, 0x870,
0, TVOUT_CPU 0x408, 0x260,
0, HDMI_REG 0xe08, 0x39,
0, HDMI_REG 0xe00, 0xa50,
0, HDMI_REG 0xe40, 0x2,
0, HDMI_REG 0xe00, 0xa50,
0, HDMI_REG 0x000, 0x0,
0, HDMI_REG 0x110, 0x0,
0, HDMI_REG 0x114, 0x0,
0, HDMI_REG 0x118, 0x60,
0, SYSC_A 0x108, 0xc000000,
0, AUDIO_CONF 0x000, 0x7ff6,
0, AUDIO_CONF 0x01c, 0x0,
0, AUDIO_CONF 0x018, 0x4,
0, AUDIO_CONF 0x010, 0xf3,
0, AUDIO_CONF 0x014, 0x3c00,
0, AUDIO_CONF 0x01c, 0x1,
0, AUDIO_CONF 0x000, 0x7ffe,
0, AUDIO_CONF 0x02c, 0x0,
0, AUDIO_CONF 0x028, 0x4,
0, AUDIO_CONF 0x020, 0xf3,
0, AUDIO_CONF 0x024, 0x3c00,
0, AUDIO_CONF 0x02c, 0x1,
0, AUDIO_CONF 0x000, 0x7ffe,
0, AUDIO_CONF 0x03c, 0x0,
0, AUDIO_CONF 0x038, 0x4,
0, AUDIO_CONF 0x030, 0xf3,
0, AUDIO_CONF 0x034, 0x3c00,
0, AUDIO_CONF 0x03c, 0x1,
0, HDMI_REG 0x200, 0x1002,
0, HDMI_REG 0x004, 0x11,
0, TVOUT_CPU 0x900, 0x649,
0, HDMI_REG 0x004, 0x11,
0, HDMI_REG 0x000, 0x0,
0, HDMI_REG 0x200, 0x3d1002,
0, HDMI_REG 0x244, 0xf,
0, SYSC_A 0x10c, 0x32644000,
0, SYSC_A 0x108, 0xc000000,
0, HDMI_REG 0x200, 0x3d1002,
0, HDMI_REG 0x244, 0xf,
0, HDMI_REG 0x400, 0x1800,
0, TVOUT_CPU 0x900, 0x448,
0, HDMI_REG 0x020, 0x4807,
0, HDMI_REG 0x200, 0x3d1002,
0, HDMI_REG 0x244, 0xf,
0, HDMI_REG 0x020, 0x4807,
0, HDMI_REG 0x200, 0x3d1002,
0, HDMI_REG 0x020, 0x4807,
0, TVOUT_CPU 0x980, 0x448,
0, BLITTER 0xa00, 0x80000000,
0, BLITTER 0xa00, 0x0,
0, BLITTER 0xb04, 0x5,
0, BLITTER 0xb08, 0x3,
0, BLITTER 0xb0c, 0x0,
0, BLITTER 0xb10, 0x2,
0, BLITTER 0xb24, 0x5,
0, BLITTER 0xb28, 0x3,
0, BLITTER 0xb2c, 0x0,
0, BLITTER 0xb30, 0x2,
0, BLITTER 0xb44, 0x5,
0, BLITTER 0xb48, 0x3,
0, BLITTER 0xb4c, 0x0,
0, BLITTER 0xb50, 0x2,
0, BLITTER 0xb84, 0x5,
0, BLITTER 0xb88, 0x3,
0, BLITTER 0xb8c, 0x0,
0, BLITTER 0xb90, 0x2,
0, BLITTER 0xa60, 0x80c00003,
0, BLITTER 0xa64, 0x4d102000,
0, BLITTER 0xa70, 0x80c00002,
0, BLITTER 0xa74, 0x4d132000,
0, BLITTER 0xa80, 0x80c00001,
0, BLITTER 0xa84, 0x4d162000,
0, TVOUT_CPU 0x980, 0x148,
0, TVOUT_CPU 0x900, 0x148,
0, TVOUT_CPU 0x900, 0x148,
0, TVOUT_CPU 0x980, 0x148,
0, COMPO 0xc04, 0x101060,
0, COMPO 0xc00, 0x2000000,
0, COMPO 0xc28, 0x60104,
0, COMPO 0xc2c, 0x2e90603,
0, COMPO 0xc04, 0x101060,
0, COMPO 0xc0c, 0x1a0104,
0, COMPO 0xc10, 0x2e90603,
0, COMPO 0xc00, 0x2000001,
0, COMPO 0xc38, 0x0,
0, CLOCKGENB 0x010, 0xc0de,
0, CLOCKGENB 0x0a4, 0x3000,
0, TVOUT_CPU 0x404, 0x45,
0, TVOUT_CPU 0x800, 0x48,
0, TVOUT_CPU 0xb00, 0x978,
0, TVOUT_CPU 0xb04, 0xc26,
0, TVOUT_CPU 0xb08, 0x13e,
0, TVOUT_CPU 0xb0c, 0xcda,
0, TVOUT_CPU 0xb10, 0x103,
0, TVOUT_CPU 0xb14, 0xfff,
0, TVOUT_CPU 0xb18, 0xcff,
0, TVOUT_CPU 0xb1c, 0x13e,
0, TVOUT_CPU 0xb20, 0xd8e,
0, TVOUT_CPU 0xb24, 0x103,
0, TVOUT_CPU 0xb28, 0x1804,
0, TVOUT_CPU 0xb2c, 0x978,
0, TVOUT_CPU 0xb30, 0xc26,
0, TVOUT_CPU 0xb34, 0x3e,
0, TVOUT_CPU 0xb38, 0xfff,
0, TVOUT_CPU 0xb3c, 0xf6b,
0, TVOUT_CPU 0xb40, 0x103,
0, TVOUT_CPU 0xb44, 0x1ae8,
0, TVOUT_CPU 0xb48, 0x0,
0, TVOUT_CPU 0xb4c, 0x0,
0, TVOUT_CPU 0xb50, 0x0,
0, TVOUT_CPU 0xb54, 0x0,
0, TVOUT_CPU 0xb58, 0x0,
0, TVOUT_CPU 0xb5c, 0x0,
0, TVOUT_CPU 0xb60, 0x0,
0, TVOUT_CPU 0xb64, 0x0,
0, TVOUT_CPU 0xb68, 0x0,
0, TVOUT_CPU 0xb6c, 0x0,
0, TVOUT_CPU 0xb70, 0x0,
0, TVOUT_CPU 0xb74, 0x0,
0, TVOUT_CPU 0xb78, 0x0,
0, TVOUT_CPU 0xb7c, 0x0,
0, TVOUT_CPU 0xb80, 0x0,
0, TVOUT_CPU 0xb84, 0x0,
0, TVOUT_CPU 0xb88, 0x0,
0, TVOUT_CPU 0xb8c, 0x0,
0, TVOUT_CPU 0xb90, 0x0,
0, TVOUT_CPU 0xb94, 0x0,
0, TVOUT_CPU 0xb98, 0x0,
0, TVOUT_CPU 0xb9c, 0x0,
0, TVOUT_CPU 0xba0, 0x0,
0, TVOUT_CPU 0xba4, 0x0,
0, TVOUT_CPU 0xba8, 0x0,
0, TVOUT_CPU 0xbac, 0x0,
0, TVOUT_CPU 0xbb0, 0x0,
0, TVOUT_CPU 0xbb4, 0x0,
0, TVOUT_CPU 0xbb8, 0x0,
0, TVOUT_CPU 0xbbc, 0x0,
0, TVOUT_CPU 0xbc0, 0x0,
0, TVOUT_CPU 0xbc4, 0x0,
0, TVOUT_CPU 0xbc8, 0x0,
0, TVOUT_CPU 0xbcc, 0x0,
0, TVOUT_CPU 0xbd0, 0x0,
0, TVOUT_CPU 0xbd4, 0x0,
0, TVOUT_CPU 0xbd8, 0x0,
0, TVOUT_CPU 0xbdc, 0x0,
0, TVOUT_CPU 0xbe0, 0x0,
0, TVOUT_CPU 0xbe4, 0x0,
0, TVOUT_CPU 0xbe8, 0x0,
0, TVOUT_CPU 0xbec, 0x0,
0, TVOUT_CPU 0xbf0, 0x0,
0, TVOUT_CPU 0xbf4, 0x0,
0, TVOUT_CPU 0xbf8, 0x0,
0, TVOUT_CPU 0xbfc, 0x0,
0, TVOUT_CPU 0x800, 0xa8000048,
0, CLOCKGENB 0x020, 0x0,
0, CLOCKGENB 0x024, 0x0,
0, CLOCKGENB 0x018, 0xfffffff9,

0, CLOCKGENB 0x01c, 0x121a,
0, CLOCKGENB 0x020, 0x1,
0, TVOUT_CPU 0x324, 0x200,
0, TVOUT_CPU 0x328, 0x7bc,
0, TVOUT_CPU 0x340, 0x5dc,
0, TVOUT_CPU 0x32c, 0x1f07b3,
0, TVOUT_CPU 0x330, 0x502ee,
0, TVOUT_CPU 0x334, 0x502ee,
0, TVOUT_CPU 0x338, 0x7b307b3,
0, TVOUT_CPU 0x33c, 0x7b307b3,
0, TVOUT_CPU 0x35c, 0x280000,
0, TVOUT_CPU 0x360, 0x60001,
0, TVOUT_CPU 0x364, 0x60001,
0, TVOUT_CPU 0x368, 0x0,
0, TVOUT_CPU 0x36c, 0x0,
0, TVOUT_CPU 0x37c, 0x2e0006,
0, TVOUT_CPU 0x380, 0x60001,
0, TVOUT_CPU 0x384, 0x60001,
0, TVOUT_CPU 0x388, 0x60006,
0, TVOUT_CPU 0x38c, 0x60006,
0, TVOUT_CPU 0x324, 0x200,
0, TVOUT_CPU 0x398, 0x18,
0, TVOUT_CPU 0x324, 0x0,
0, TVOUT_CPU 0x348, 0x1,        // ???
0, CLOCKGENB 0x0a4, 0x3000,
0, HDMI_REG 0xe08, 0x939,
0, TVOUT_CPU 0x408, 0x260,
0, HDMI_REG 0xe04, 0x3b,

0, TVOUT_CPU 0x814, 0x1130000,
0, TVOUT_CPU 0x840, 0x1130000,
0, TVOUT_CPU 0x818, 0xfe83fb,
0, TVOUT_CPU 0x81c, 0x1f900401,
0, TVOUT_CPU 0x820, 0x0,
0, TVOUT_CPU 0x824, 0x0,
0, TVOUT_CPU 0x828, 0xf408f9,
0, TVOUT_CPU 0x82c, 0x55f7c25,
0, TVOUT_CPU 0x830, 0x0,
0, TVOUT_CPU 0x834, 0x0,
0, TVOUT_CPU 0x844, 0xfe83fb,
0, TVOUT_CPU 0x848, 0x1f900401,
0, TVOUT_CPU 0x84c, 0x0,
0, TVOUT_CPU 0x850, 0x0,
0, TVOUT_CPU 0x854, 0xf408f9,
0, TVOUT_CPU 0x858, 0x55f7c25,
0, TVOUT_CPU 0x85c, 0x0,
0, TVOUT_CPU 0x860, 0x0,
0, TVOUT_CPU 0x800, 0xa8000048,
0, TVOUT_CPU 0x808, 0xc60255,
0, TVOUT_CPU 0x80c, 0xba0248,
0, TVOUT_CPU 0x838, 0xba0248,
0, TVOUT_CPU 0x800, 0xa9170148,
0, SYSC_A 0x10c, 0x32644000,
0, TVOUT_CPU 0x400, 0x70,
0, COMPO 0x124, GDPNODE1, // initial GDP node
0, COMPO 0xc00, 0x2000009,
0, COMPO 0xc38, 0x0,

#ifdef HDMI_OUTPUT_RGB
0, TVOUT_CPU 0x900, 0x349,
#else
0, TVOUT_CPU 0x900, 0x148,
#endif

0, HDMI_REG 0x004, 0x11,
0, HDMI_REG 0x000, 0x0,
0, HDMI_REG 0x200, 0x3d1002,
0, HDMI_REG 0x244, 0xf,
0, SYSC_A 0x10c, 0x32644000,
0, SYSC_A 0x108, 0xc000000,
0, HDMI_REG 0x004, 0x11,
0, HDMI_REG 0x000, 0x0,
0, HDMI_REG 0x200, 0x3d1002,
0, HDMI_REG 0x244, 0xf,
0, SYSC_A 0x10c, 0x32644000,
0, SYSC_A 0x108, 0xc000000,
0, SYSC_A 0x104, 0x0,
0, SYSC_A 0x108, 0x8020000,
0, SYSC_A 0x10c, 0x32644000,
0, SYSC_A 0x10c, 0x32645000,
0, SYSC_A 0x10c, 0x32645800,
0, HDMI_REG 0x014, 0x2,
0, HDMI_REG 0x018, 0x32,
0, HDMI_REG 0x100, 0x105,
0, HDMI_REG 0x104, 0x604,
0, HDMI_REG 0x108, 0x1a,
0, HDMI_REG 0x10c, 0x2e9,
0, HDMI_REG 0x004, 0x1db,
0, HDMI_REG 0x000, 0x80b,
//0, HDMI_REG 0x000, 0x8000080b,
0, HDMI_REG 0x000, 0x80b,
0, COMPO 0xc04, 0xff000000,
0, HDMI_REG 0x00c, 0x41,
0, TVOUT_CPU 0x39c, 0x10,
0, HDMI_REG 0x00c, 0x41,
0, TVOUT_CPU 0x39c, 0x8,


