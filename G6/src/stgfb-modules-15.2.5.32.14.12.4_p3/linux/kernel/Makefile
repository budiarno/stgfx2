KBUILD_CPPFLAGS += -I$(STG_TOPDIR) -I$(STG_TOPDIR)/include -I$(STG_TOPDIR)/private/include -I$(STG_TOPDIR)/linux/kernel/include

ifeq ($(CONFIG_STG_DEBUG),y)
KBUILD_CPPFLAGS += -DDEBUG
endif

ifneq ($(CONFIG_STG_DEBUG_LEVEL),)
KBUILD_CPPFLAGS += -DDEBUG_LEVEL=$(CONFIG_STG_DEBUG_LEVEL)
endif

ifeq ($(CONFIG_ENABLE_TRACING_IN_COLOR),y)
KBUILD_CPPFLAGS += -DTRACING_IN_COLOR
endif

ifeq ($(CONFIG_DISPLAY_REMOVE_TRACES),y)
KBUILD_CPPFLAGS += -DCONFIG_DISPLAY_REMOVE_TRACES
endif

ifeq ($(CONFIG_DISPLAY_DEBUG),y)
KBUILD_CPPFLAGS += -DDISPLAY_DEBUG=1
else
KBUILD_CPPFLAGS += -DDISPLAY_DEBUG=0
endif

ifeq ($(CONFIG_ST_BIOS),y)
KBUILD_CPPFLAGS += -DHAVE_BIOS
endif

obj-m := drivers/
